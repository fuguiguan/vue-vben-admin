{
  "version": 3,
  "sources": ["../../.pnpm/codemirror@5.65.16/node_modules/codemirror/mode/tiki/tiki.js"],
  "sourcesContent": ["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode('tiki', function(config) {\n  function inBlock(style, terminator, returnTokenizer) {\n    return function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.match(terminator)) {\n          state.tokenize = inText;\n          break;\n        }\n        stream.next();\n      }\n\n      if (returnTokenizer) state.tokenize = returnTokenizer;\n\n      return style;\n    };\n  }\n\n  function inLine(style) {\n    return function(stream, state) {\n      while(!stream.eol()) {\n        stream.next();\n      }\n      state.tokenize = inText;\n      return style;\n    };\n  }\n\n  function inText(stream, state) {\n    function chain(parser) {\n      state.tokenize = parser;\n      return parser(stream, state);\n    }\n\n    var sol = stream.sol();\n    var ch = stream.next();\n\n    //non start of line\n    switch (ch) { //switch is generally much faster than if, so it is used here\n    case \"{\": //plugin\n      stream.eat(\"/\");\n      stream.eatSpace();\n      stream.eatWhile(/[^\\s\\u00a0=\\\"\\'\\/?(}]/);\n      state.tokenize = inPlugin;\n      return \"tag\";\n    case \"_\": //bold\n      if (stream.eat(\"_\"))\n        return chain(inBlock(\"strong\", \"__\", inText));\n      break;\n    case \"'\": //italics\n      if (stream.eat(\"'\"))\n        return chain(inBlock(\"em\", \"''\", inText));\n      break;\n    case \"(\":// Wiki Link\n      if (stream.eat(\"(\"))\n        return chain(inBlock(\"variable-2\", \"))\", inText));\n      break;\n    case \"[\":// Weblink\n      return chain(inBlock(\"variable-3\", \"]\", inText));\n      break;\n    case \"|\": //table\n      if (stream.eat(\"|\"))\n        return chain(inBlock(\"comment\", \"||\"));\n      break;\n    case \"-\":\n      if (stream.eat(\"=\")) {//titleBar\n        return chain(inBlock(\"header string\", \"=-\", inText));\n      } else if (stream.eat(\"-\")) {//deleted\n        return chain(inBlock(\"error tw-deleted\", \"--\", inText));\n      }\n      break;\n    case \"=\": //underline\n      if (stream.match(\"==\"))\n        return chain(inBlock(\"tw-underline\", \"===\", inText));\n      break;\n    case \":\":\n      if (stream.eat(\":\"))\n        return chain(inBlock(\"comment\", \"::\"));\n      break;\n    case \"^\": //box\n      return chain(inBlock(\"tw-box\", \"^\"));\n      break;\n    case \"~\": //np\n      if (stream.match(\"np~\"))\n        return chain(inBlock(\"meta\", \"~/np~\"));\n      break;\n    }\n\n    //start of line types\n    if (sol) {\n      switch (ch) {\n      case \"!\": //header at start of line\n        if (stream.match('!!!!!')) {\n          return chain(inLine(\"header string\"));\n        } else if (stream.match('!!!!')) {\n          return chain(inLine(\"header string\"));\n        } else if (stream.match('!!!')) {\n          return chain(inLine(\"header string\"));\n        } else if (stream.match('!!')) {\n          return chain(inLine(\"header string\"));\n        } else {\n          return chain(inLine(\"header string\"));\n        }\n        break;\n      case \"*\": //unordered list line item, or <li /> at start of line\n      case \"#\": //ordered list line item, or <li /> at start of line\n      case \"+\": //ordered list line item, or <li /> at start of line\n        return chain(inLine(\"tw-listitem bracket\"));\n        break;\n      }\n    }\n\n    //stream.eatWhile(/[&{]/); was eating up plugins, turned off to act less like html and more like tiki\n    return null;\n  }\n\n  var indentUnit = config.indentUnit;\n\n  // Return variables for tokenizers\n  var pluginName, type;\n  function inPlugin(stream, state) {\n    var ch = stream.next();\n    var peek = stream.peek();\n\n    if (ch == \"}\") {\n      state.tokenize = inText;\n      //type = ch == \")\" ? \"endPlugin\" : \"selfclosePlugin\"; inPlugin\n      return \"tag\";\n    } else if (ch == \"(\" || ch == \")\") {\n      return \"bracket\";\n    } else if (ch == \"=\") {\n      type = \"equals\";\n\n      if (peek == \">\") {\n        stream.next();\n        peek = stream.peek();\n      }\n\n      //here we detect values directly after equal character with no quotes\n      if (!/[\\'\\\"]/.test(peek)) {\n        state.tokenize = inAttributeNoQuote();\n      }\n      //end detect values\n\n      return \"operator\";\n    } else if (/[\\'\\\"]/.test(ch)) {\n      state.tokenize = inAttribute(ch);\n      return state.tokenize(stream, state);\n    } else {\n      stream.eatWhile(/[^\\s\\u00a0=\\\"\\'\\/?]/);\n      return \"keyword\";\n    }\n  }\n\n  function inAttribute(quote) {\n    return function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.next() == quote) {\n          state.tokenize = inPlugin;\n          break;\n        }\n      }\n      return \"string\";\n    };\n  }\n\n  function inAttributeNoQuote() {\n    return function(stream, state) {\n      while (!stream.eol()) {\n        var ch = stream.next();\n        var peek = stream.peek();\n        if (ch == \" \" || ch == \",\" || /[ )}]/.test(peek)) {\n      state.tokenize = inPlugin;\n      break;\n    }\n  }\n  return \"string\";\n};\n                     }\n\nvar curState, setStyle;\nfunction pass() {\n  for (var i = arguments.length - 1; i >= 0; i--) curState.cc.push(arguments[i]);\n}\n\nfunction cont() {\n  pass.apply(null, arguments);\n  return true;\n}\n\nfunction pushContext(pluginName, startOfLine) {\n  var noIndent = curState.context && curState.context.noIndent;\n  curState.context = {\n    prev: curState.context,\n    pluginName: pluginName,\n    indent: curState.indented,\n    startOfLine: startOfLine,\n    noIndent: noIndent\n  };\n}\n\nfunction popContext() {\n  if (curState.context) curState.context = curState.context.prev;\n}\n\nfunction element(type) {\n  if (type == \"openPlugin\") {curState.pluginName = pluginName; return cont(attributes, endplugin(curState.startOfLine));}\n  else if (type == \"closePlugin\") {\n    var err = false;\n    if (curState.context) {\n      err = curState.context.pluginName != pluginName;\n      popContext();\n    } else {\n      err = true;\n    }\n    if (err) setStyle = \"error\";\n    return cont(endcloseplugin(err));\n  }\n  else if (type == \"string\") {\n    if (!curState.context || curState.context.name != \"!cdata\") pushContext(\"!cdata\");\n    if (curState.tokenize == inText) popContext();\n    return cont();\n  }\n  else return cont();\n}\n\nfunction endplugin(startOfLine) {\n  return function(type) {\n    if (\n      type == \"selfclosePlugin\" ||\n        type == \"endPlugin\"\n    )\n      return cont();\n    if (type == \"endPlugin\") {pushContext(curState.pluginName, startOfLine); return cont();}\n    return cont();\n  };\n}\n\nfunction endcloseplugin(err) {\n  return function(type) {\n    if (err) setStyle = \"error\";\n    if (type == \"endPlugin\") return cont();\n    return pass();\n  };\n}\n\nfunction attributes(type) {\n  if (type == \"keyword\") {setStyle = \"attribute\"; return cont(attributes);}\n  if (type == \"equals\") return cont(attvalue, attributes);\n  return pass();\n}\nfunction attvalue(type) {\n  if (type == \"keyword\") {setStyle = \"string\"; return cont();}\n  if (type == \"string\") return cont(attvaluemaybe);\n  return pass();\n}\nfunction attvaluemaybe(type) {\n  if (type == \"string\") return cont(attvaluemaybe);\n  else return pass();\n}\nreturn {\n  startState: function() {\n    return {tokenize: inText, cc: [], indented: 0, startOfLine: true, pluginName: null, context: null};\n  },\n  token: function(stream, state) {\n    if (stream.sol()) {\n      state.startOfLine = true;\n      state.indented = stream.indentation();\n    }\n    if (stream.eatSpace()) return null;\n\n    setStyle = type = pluginName = null;\n    var style = state.tokenize(stream, state);\n    if ((style || type) && style != \"comment\") {\n      curState = state;\n      while (true) {\n        var comb = state.cc.pop() || element;\n        if (comb(type || style)) break;\n      }\n    }\n    state.startOfLine = false;\n    return setStyle || style;\n  },\n  indent: function(state, textAfter) {\n    var context = state.context;\n    if (context && context.noIndent) return 0;\n    if (context && /^{\\//.test(textAfter))\n        context = context.prev;\n    while (context && !context.startOfLine)\n        context = context.prev;\n    if (context) return context.indent + indentUnit;\n    else return 0;\n  },\n  electricChars: \"/\"\n};\n});\n\nCodeMirror.defineMIME(\"text/tiki\", \"tiki\");\n\n});\n"],
  "mappings": "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",
  "names": ["CodeMirror", "pluginName", "type"]
}
