import {
  require_codemirror
} from "./chunk-GI5J7NWS.js";
import {
  __commonJS
} from "./chunk-WGAPYIUP.js";

// node_modules/.pnpm/codemirror@5.65.16/node_modules/codemirror/addon/fold/markdown-fold.js
var require_markdown_fold = __commonJS({
  "node_modules/.pnpm/codemirror@5.65.16/node_modules/codemirror/addon/fold/markdown-fold.js"(exports, module) {
    (function(mod) {
      if (typeof exports == "object" && typeof module == "object")
        mod(require_codemirror());
      else if (typeof define == "function" && define.amd)
        define(["../../lib/codemirror"], mod);
      else
        mod(CodeMirror);
    })(function(CodeMirror2) {
      "use strict";
      CodeMirror2.registerHelper("fold", "markdown", function(cm, start) {
        var maxDepth = 100;
        function isHeader(lineNo) {
          var tokentype = cm.getTokenTypeAt(CodeMirror2.Pos(lineNo, 0));
          return tokentype && /\bheader\b/.test(tokentype);
        }
        function headerLevel(lineNo, line, nextLine2) {
          var match = line && line.match(/^#+/);
          if (match && isHeader(lineNo))
            return match[0].length;
          match = nextLine2 && nextLine2.match(/^[=\-]+\s*$/);
          if (match && isHeader(lineNo + 1))
            return nextLine2[0] == "=" ? 1 : 2;
          return maxDepth;
        }
        var firstLine = cm.getLine(start.line), nextLine = cm.getLine(start.line + 1);
        var level = headerLevel(start.line, firstLine, nextLine);
        if (level === maxDepth)
          return void 0;
        var lastLineNo = cm.lastLine();
        var end = start.line, nextNextLine = cm.getLine(end + 2);
        while (end < lastLineNo) {
          if (headerLevel(end + 1, nextLine, nextNextLine) <= level)
            break;
          ++end;
          nextLine = nextNextLine;
          nextNextLine = cm.getLine(end + 2);
        }
        return {
          from: CodeMirror2.Pos(start.line, firstLine.length),
          to: CodeMirror2.Pos(end, cm.getLine(end).length)
        };
      });
    });
  }
});
export default require_markdown_fold();
//# sourceMappingURL=codemirror_addon_fold_markdown-fold.js.map
